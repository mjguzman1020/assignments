# word_stats.py
"""
A simple program that reads a file and reports:
1. The total number of words.
2. The average word length (including punctuation).

Example:
    Input file contents:
        To be or not to be, that is the question.

    Output:
        Total words    = 10
        Average length = 3.2
"""

def word_stats(filename):
    """Reads the given file and prints total word count and average word length."""
    try:
        with open(filename, 'r', encoding='utf-8') as file:
            text = file.read().strip()
    except FileNotFoundError:
        print(f"Error: File '{filename}' not found.")
        return

    # Split text by whitespace
    words = text.split()

    if not words:
        print("The file is empty or contains no valid words.")
        return

    # Count words and characters
    total_words = len(words)
    total_chars = sum(len(word) for word in words)

    # Calculate average word length
    average_length = total_chars / total_words

    # Print results
    print(f"Total words    = {total_words}")
    print(f"Average length = {average_length:.1f}")


# Allow running directly from command line
if __name__ == "__main__":
    import sys

    if len(sys.argv) != 2:
        print("Usage: python word_stats.py <filename>")
    else:
        word_stats(sys.argv[1])
